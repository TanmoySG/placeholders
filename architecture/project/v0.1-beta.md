# Version 0.1-Beta 

This documentation contains details about the development of Placeholders v0.1-beta.

## Scope

- Initial Minimum Requirement Setup
- Initial Design and Analysis
- Proof of Concept
- Minimum Usable API
- Basic Functionalities
- Initial Database Setup

## Features

- Basic API Setup
  - Basic Routing - no UI
- Basic Usable Flow
  - Create User Namespace (default) - Namespaces in NOT in this scope so we'd be using the term User-Default-Space instead. This default-space would become default namespace when Namespaces are introduced
  - Create a Placeholder-Container under the `User-Default-Namespace`
    - Add basic authentication for Write/Update Operations
    - Create Container passing minimum requirements
    - Only Links routing are supported - persisted files, storage, etc out of scope.
    - Can hot-swap links
    - Update/Add Links in a diferent step, not as part of creation
      - Fallback Link - out of scope
  - Get Placeholder content (placeholder->api link->resource link->content) w/o any auth
- Initially will use wunderDb
  - Will be hot-swappable with other DBs in future with generic database interfacing (TBD)

## TODOs: High Level

Design
  - Database Design
    - Database Entities
    - Database Schemas
  - Routing
    - Routes 
    - HTTP Methods
    - Request Body
    - Response Body

Usage Flow
  - Create User Account - basic authentication / no authentication
    - User's default namespace is created
    - Add userId to ACL/Authorization for Namespace 
      - Or add Authorization of `user.default-namespace` to user's authorization
  - User creates a Placeholder-Container (children to `User-Default-Namespace` by default)
    - Create Container passing minimum requirements
      - Pass Container Name
      - Returns Container ID 
    - Add Content to Placeholder-Container 
      - Patch container entity with `containerId` passing
        - Placeholder Type, only `LINK` supported
        - Placeholder Content, passing link
    - Alternately, for `LINK` type placeholder, can add Placeholder Type and Content while creating container
      - But for type `FILE` the add content would be a two step process (future scope)
    - Container ID is generated, in the format, `containerId = hash({userId}.default.{uuid})`
    - Adds `createdTimestamp` for container
  - User updates container content (link) 
    - Use Patch on Placeholder Container ID to update link
    - Updates `lastModifiedTimestamp` 
    - Requires authentication
  - Get Placeholder content 
    - Get container content using `base.url/userId/containerId`
      - Top Level routing (`base.url/containerId`) is out of scope of v0.1-beta
      - Only container content is returned, no metadata etc.


## TODOs: Low Level

Databases for v0.1-beta
  - ph-namespaces
    - only `phn-user.default-namespace`
  - ph-system
    - phs-users
      - ACL 
      - Access secrets - Username and Password (hashed)
      - Metadata (basic)
    - phs-configs
      - maybe ACL can be here (**think about this**)

Routes
  - POST `base.url/userId`
    - Create User Account
    - Pass 
      - username
      - password
      - metadata
    - Return
      - User URL
      - User ID
  - POST `base.url/userId.default-namespace/`
    - Create Container
    - Pass 
      - Container Name
      - Container Content Type
      - Container Content
    - Return
      - Container ID, `containerId = hash({userId}.default.{uuid})`
  - PATCH `base.url/userId.default-namespace/containerId`
    - Update container content
    - Pass
      - Content
      - Content Type (if not done earlier)
    - Returns 
      - Updated Entitiy
  - GET `base.url/userId.default-namespace/containerId`
    - Get Container content
    - Returns
      - Content

Handled HTTP Status/Error Codes
  - 404
  - 500
  - what else?

## TODOs: Tasks

TBD
